
<!DOCTYPE html>
<html lang="en" class="loading">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Assembly Language - cyb3rsaurus</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="cyb3rsaurus Kotlin Tutorials kh4l khal Educational,"> 
    <meta name="description" content="IntroThere are many programming languages that can convert human-readable instructions to machine l,"> 
    <meta name="author" content="kh4l"> 
    <link rel="alternative" href="atom.xml" title="cyb3rsaurus" type="application/atom+xml"> 
    <link rel="icon" href="/logo.png"> 
    <link href="/font/Rubik-Bold-kern-latin.woff2" as="font" type="font/woff2" crossorigin>
    <link href="/font/Rubik-Regular-kern-latin.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nuy6s3evgdk.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
    <link rel="stylesheet" href="/css/obsidian.css">
    <link rel="stylesheet" href="/css/ball-atom.min.css">
</head>
</html>
<body class="loading">
    <div class="la-ball-atom la-2x">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    <span id="config-title" style="display:none">cyb3rsaurus</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a id="home-icon" class="image-icon icon-home iconfont animated fadeIn" href="javascript:;" data-url=""></a>
    <div id="play-icon" title="Play/Pause" class="iconfont icon-play animated fadeIn"></div>
    <h3 class="subtitle">Assembly Language</h3>
    <div class="social">
<!--        <div class="like-icon">-->
<!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
<!--        </div>-->
        <div>
            <div class="share animated fadeIn">
                
                    <a href="javascript:;" class="iconfont icon-share1"></a>
                    <div class="share-component-cc" data-disabled="facebook,linkedin,diandian,tencent,google"></div>
                
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class= article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg);">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                    <a href="/categories/Assembly Tutorials"><b>「 </b>ASSEMBLY TUTORIALS<b> 」</b></a>
                
                June 20, 2019
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/ass/" title="Assembly Language">Assembly Language</a></h3>
            
                <p class="post-count animated fadeInDown">
                    
                        <span>
                        <b class="iconfont icon-text2"></b> <i>Words count</i>
                        7.3k
                    </span>
                    
                    
                        <span>
                        <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                        7 mins.
                    </span>
                    
                    
                    
                        <span id="busuanzi_container_page_pv">
                            <b class="iconfont icon-read"></b> <i>Read count</i>
                            <span id="busuanzi_value_page_pv">0</span>
                        </span>
                    
                </p>
            
            
                <ul class="animated fadeInDown post-tags-list"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Assembly/">Assembly</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn slower">
            <h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>There are many programming languages that can convert human-readable instructions to machine language i.e, binary. Then why do we need an assembly language? What is an assembly language?</p>
<p>Assembly language is a low-level programming language, which gives access to many details. This is the language that both CPU and human can understand. Different processors have different assembly language like x86. It is the 32bit version of the language that I am writing about. Let us see What are Registers and their purpose, Function calls, Functions in x86 assembly language.</p>


<h1 id="Registers"><a href="#Registers" class="headerlink" title="Registers"></a>Registers</h1><p>Processor’s main task is to process the data. In order to achieve this, the processor has to store the data in memory and it is processed from the memory. This brings loads of stress to the processor. So, in order to avoid this, the processor comes with the pre-installed type of storage called Registers. The registers are capable to store data in them. But, there are a limited set of registers in a processor as they are very expensive. Registers are broadly three types. General purpose, Control registers, Segment registers.</p>
<h2 id="Control-Registers"><a href="#Control-Registers" class="headerlink" title="Control Registers"></a>Control Registers</h2><p>Control registers are CR0, CR1, CR2, CR3, CR4. Control registers helps CPU in performing certain calculations.</p>
<h2 id="Segment-Registers"><a href="#Segment-Registers" class="headerlink" title="Segment Registers"></a>Segment Registers</h2><p>Segment are the places in the programme that contains data, code, stack. There are three main segments.</p>
<h3 id="Code-segment"><a href="#Code-segment" class="headerlink" title="Code segment"></a>Code segment</h3><p>Contains all the instructions that are to be executed.</p>
<pre><code>section .text
   &lt;or&gt;
segment .text</code></pre><h3 id="Data-Segment"><a href="#Data-Segment" class="headerlink" title="Data Segment"></a>Data Segment</h3><p>It contains data, constants and work area.</p>
<pre><code>section .data
   ;or
segment .data
   ;and
section .bss
   ;or
segment .bss</code></pre><p>data segment is represented by .data and .bss. .data contains the variables that are predeclared and cannot be altered throughout the execution. in small, it is static. Whereas .bss is also static, but the data can be declared later in the programme.</p>
<h3 id="Stack-Segment"><a href="#Stack-Segment" class="headerlink" title="Stack Segment"></a>Stack Segment</h3><p>It contains data and return addresses of functions and local variables.</p>
<h2 id="General-Purpose-Registers"><a href="#General-Purpose-Registers" class="headerlink" title="General Purpose Registers"></a>General Purpose Registers</h2><p>Intel assembly has 8 general purpose 32-bit registers. These are generally used for various calculations that happens inside the CPU.</p>
<p>EAX is a general purpose register. EAX is used to store operands and data of results.</p>
<p>EBX is a base register. It is used to store the pointers to the data.</p>
<p>ECX is generally known as counter register. It is used as a function parameter or a loop counter.</p>
<p>EDX is a data register that is used as an Input/Output pointer.</p>
<p>ESI is a Source Index and EDI is a Destination Index are also data pointer registers. They are also used for various memory operations. more generally used for string operations.</p>
<p>ESP points to the top of the Stack.</p>
<p>EBP is a base pointer. it is used to reference all the function parameters and local variables.</p>
<p>EIP holds the address of the next address that is to be executed.</p>
<p>EFLAGS are used to infer about the various executions are happening. For example, a zero flag is set if the execution of instruction results in zero. If two numbers are added, the zero flags (ZF) is set. there are many flags. Few of the flags are,</p>
<p>OverFlow Flag(OF): This flag is set if the result of arithmetical operation causes the overflow of the Most Significant Bit.</p>
<p>ZeroFlag (ZF): This flag is set if the result of an arithmetical operation results in zero.</p>
<p>Sign Flag (SF): This flag is set if the result of an arithmetical operation is Negative.</p>
<p>Carry Flag (CF): This flag is set if when the value is to be carried out during arithmetical operations like addition and division.</p>
<p>Parity Flag (PF): This flag is set if the result of an Arithmetical operation contains the Odd number of ‘1’-bits. It is set to 0 if the result contains even number of ‘1’-bits.</p>
<h1 id="STACK"><a href="#STACK" class="headerlink" title="STACK"></a>STACK</h1><p>A stack is an abstract data type. It grows from higher addresses to lower memory addresses. Arguments that are passed to the function are stored in a stack. We can also store local variables are stored in the stack. A stack of one programme is unique that it cannot be used by other functions. The stack contains two main operations PUSH and POP. Push inserts an element to the top of the stack whereas pop eliminates the element that is on the top of the stack. This is depicted as LAST IN FIRST OUT. Yes, the last element that enters the stack by using push operation is the one which gets eliminated by the pop operation. This can be easily understood from the below Image.</p>
<h1 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h1><p>By the time of execution, functions are frequently set up with a stack frame. When a function is called, it creates a stack frame. And if another function is called, a new stack frame corresponding to the second function is created at the current esp location over the first function’s stack. the stack frames of both the functions must not overlap. It must be made sure that no other stacks manipulate the content of the other functions. The stack is deallocated before the function returns.</p>
<h2 id="Function-Prologue"><a href="#Function-Prologue" class="headerlink" title="Function Prologue"></a>Function Prologue</h2><p>Function prologue is a few lines of code that appears at the beginning of the function. it is responsible for prepare a stack frame and registers for use within the function. Usually, prologue pushes base pointer on to the stack. and we assign the value of stack pointer. This creates a new stack frame on top of the old one.</p>
<pre><code>push ebp
mov ebp, esp</code></pre><h2 id="Function-Epilogue"><a href="#Function-Epilogue" class="headerlink" title="Function Epilogue"></a>Function Epilogue</h2><p>Function epilogue appears by the end of the programme. it is responsible to set stack and registers to the previous state i.e, the state before the function is called. It reverts the stack pointer to the current base pointer freeing the space reserved to the prologue and local variables. We pop the base pointer at the end so as to restore the stack pointer to the place where it is before the prologue.</p>
<pre><code>mov esp, ebp
pop ebp</code></pre><p>this can be simplified by giving the following.</p>
<pre><code>leave               ;mov and pop
ret                 ;exits the function.</code></pre>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                </ul>
            
            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/logo.png" height=300 width=300></img>
                    <p>kh4l</p>
                    <span>Plant a Tree for every successful compilation</span>
                    <dl>
                        <dd><a href="https://github.com/KalyanVem" target="_blank"><span class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="https://twitter.com/kalyan_vem" target="_blank"><span class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">5 <p>Articles</p></a></li>
                    <li><a href="/categories">4 <p>Categories</p></a></li>
                    <li><a href="/tags">3 <p>Tags</p></a></li>
                </ul>
            </div>
            
                
                
                    <div class="box sticky animated fadeInRight faster">
                        <div id="toc" class="subbox">
                            <h4>Contents</h4>
                            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Intro"><span class="toc-number">1.</span> <span class="toc-text">Intro</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Registers"><span class="toc-number">2.</span> <span class="toc-text">Registers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Control-Registers"><span class="toc-number">2.1.</span> <span class="toc-text">Control Registers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Segment-Registers"><span class="toc-number">2.2.</span> <span class="toc-text">Segment Registers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Code-segment"><span class="toc-number">2.2.1.</span> <span class="toc-text">Code segment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Segment"><span class="toc-number">2.2.2.</span> <span class="toc-text">Data Segment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stack-Segment"><span class="toc-number">2.2.3.</span> <span class="toc-text">Stack Segment</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#General-Purpose-Registers"><span class="toc-number">2.3.</span> <span class="toc-text">General Purpose Registers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#STACK"><span class="toc-number">3.</span> <span class="toc-text">STACK</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Functions"><span class="toc-number">4.</span> <span class="toc-text">Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-Prologue"><span class="toc-number">4.1.</span> <span class="toc-text">Function Prologue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-Epilogue"><span class="toc-number">4.2.</span> <span class="toc-text">Function Epilogue</span></a></li></ol></li></ol>
                        </div>
                    </div>
                
            
        </div>
    </div>
</div>


    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2019
        <span class="gradient-text">
            kh4l
        </span>.
        <br>
        <span class="gradient-text">
            Peace
        </span>
        
    </p>
</footer>

<script src="//cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


    <script src="/js/busuanzi.min.js"></script>
    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>


<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






    <!-- Highlight.js -->
    <link rel="stylesheet" href="/css/dracula.css">
    <script src="//cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js">
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>


<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Plant a Tree for every successful compilation", "It&#39;s Hard to Read Code Than to Write it"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>


</html>
